import time
def sort(bar, layout, num, colors):
    data = list(bar.y)
    count = 0
    for i in range(num):
        for j in range(num-i-1):
            if data[j] > data[j+1]:
                colors[j] = 'crimson'
                colors[j+1] = 'crimson'
                time.sleep(0.1)
                bar.marker.color = colors
                data[j], data[j+1] = data[j+1], data[j]
                bar.y = data
            else:
                colors[j] = 'green'
                colors[j+1] = 'green'
                time.sleep(0.1)
                bar.marker.color = colors
            colors[j] = 'lightslategray'
            colors[j+1] = 'lightslategray'
            bar.marker.color = colors
            count = count + 1
            layout.xaxis.title.text = "Number of operations: " + str(count)
        colors[num-i-1] = 'blue'
        bar.marker.color = colors