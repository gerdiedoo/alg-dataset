class Node:
    def __init__(self, data):
        self.data = data
        self.next = None
        self.prev = None
class circularDoublyLinkedList:
    def __init__(self):
        self.last = None
    def insertFirst(self):
        data = int(input("Enter the value of the node to be inserted : "))
        newNode = Node(data)
        if (self.last == None):
            self.last = newNode
            newNode.next = self.last
            newNode.prev = self.last
        else:
            head = self.last.next
            self.last.next = newNode
            newNode.prev = self.last
            newNode.next = head
            head.prev = newNode
        print("The Node has been inserted in the beginning of the list\n")
    def deleteFirst(self):
        if (self.last == None):
            print("The list is empty\n")
        elif (self.last.next == self.last):
            print("Removed first : ", self.last.data, "\n")
            self.last = None
        else:
            head = self.last.next
            print("Removed first : ", head.data, "\n")
            head = head.next
            head.prev = self.last
            self.last.next = head
    def insertLast(self):
        data = int(input("Enter the value of the node to be inserted : "))
        newNode = Node(data)
        if (self.last == None):
            self.last = newNode
            newNode.next = self.last
        else:
            head = self.last.next
            self.last.next = newNode
            newNode.prev = self.last
            newNode.next = head
            head.prev = newNode
            self.last = newNode
        print("The Node has been inserted in the end of the list\n")
    def deleteLast(self):
        if (self.last == None):
            print("The list is empty\n")
        elif (self.last.next == self.last):
            print("Removed last : ", self.last.data, "\n")
            self.last = None
        else:
            print("Removed last : ", self.last.data, "\n")
            head = self.last.next
            curr = head
            while curr.next.next != head:
                curr = curr.next
            self.last = curr
            self.last.next = head
            head.prev = self.last
    def search(self, item):
        if (self.last == None):
            print("List is empty\n")
        else:
            head = self.last.next
            curr = head
            flag = 0
            while curr.next != head:
                if (curr.data == item):
                    flag = 1
                curr = curr.next
            if curr.data == item:
                flag = 1
            if (flag):
                print("item was found\n")
            else:
                print("not found\n")
    def displayForeward(self):
        if (self.last == None):
            print("List is empty\n")
        else:
            head = self.last.next
            curr = head
            print("the elements of the list in foreward direction are : ")
            while curr.next != head:
                print(curr.data, end=" ")
                curr = curr.next
            print(curr.data, "\n")
    def dislplayBackWard(self):
        if (self.last == None):
            print("List is Empty\n")
        else:
            head = self.last.next
            curr = head
            print("the elements of the list in backward direction are : ")
            while curr.next != head:
                curr = curr.next
            while curr != head:
                print(curr.data, end=" ")
                curr = curr.prev
            print(curr.data, "\n")
CDLL = circularDoublyLinkedList()
while True:
    print("Enter a option you want to perform ")
    op = int(input(
        "1.Insert First \n2.Delete First \n3.Insert Last \n4.Delete Last \n5.search \n6.displayForeward \n7.dislplayBackWard \n8.exit \n"))
    if (op == 1):
        CDLL.insertFirst()
    elif (op == 2):
        CDLL.deleteFirst()
    elif (op == 3):
        CDLL.insertLast()
    elif (op == 4):
        CDLL.deleteLast()
    elif (op == 5):
        item = int(input("enter the item to be searched : "))
        CDLL.search(item)
    elif (op == 6):
        CDLL.displayForeward()
    elif (op == 7):
        CDLL.dislplayBackWard()
    elif (op == 8):
        exit()
    else:
        print("enter correct option")