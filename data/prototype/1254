module.exports = {
    mergeSort: (unsortedArray) => {
        function merge(left, right) {
            let resultArray = [], leftIndex = 0, rightIndex = 0;
            while (leftIndex < left.length && rightIndex < right.length) {
                if (left[leftIndex] < right[rightIndex]) {
                    resultArray.push(left[leftIndex]);
                    leftIndex++;
                } else {
                    resultArray.push(right[rightIndex]);
                    rightIndex++;
                }
            }
            return resultArray.concat(left.slice(leftIndex)).concat(right.slice(rightIndex));
        }
        if (unsortedArray.length <= 1) {
            return unsortedArray;
        }
        const middle = Math.floor(unsortedArray.length / 2);
        const left = unsortedArray.slice(0, middle);
        const right = unsortedArray.slice(middle);
        return merge(
            module.exports.mergeSort(left), module.exports.mergeSort(right)
        );
    },
    selectionSort: (unsortedArray) => {
        function swap(array, firstIndex, secondIndex) {
            let aux = array[firstIndex];
            array[firstIndex] = array[secondIndex];
            array[secondIndex] = aux;
        };
        for (let i = 0; i < unsortedArray.length; i++) {
            let min = i;
            for (let j = i + 1; j < unsortedArray.length; j++) {
                if (unsortedArray[j] < unsortedArray[min]) {
                    min = j;
                }
            }
            swap(unsortedArray, i, min);
        }
        return unsortedArray;
    },
    quickSort: (unsortedArray, left = 0, right = unsortedArray.length - 1) => {
        function swap(array, firstIndex, secondIndex) {
            const aux = array[firstIndex];
            array[firstIndex] = array[secondIndex];
            array[secondIndex] = aux;
        };
        function partition(items, left, right) {
            const pivot = items[Math.floor((right + left) / 2)];  
            let i = left,  
                j = right;  
            while (i <= j) {
                while (items[i] < pivot) {
                    i++;
                }
                while (items[j] > pivot) {
                    j--;
                }
                if (i <= j) {
                    swap(items, i, j);  
                    i++;
                    j--;
                }
            }
            return i;
        }
        let index;
        if (unsortedArray.length > 1) {
            index = partition(unsortedArray, left, right);  
            if (left < index - 1) {  
                module.exports.quickSort(unsortedArray, left, index - 1);
            }
            if (index < right) {  
                module.exports.quickSort(unsortedArray, index, right);
            }
        }
        return unsortedArray;
    },
    insertionSort: (unsortedArray) => {
        let length = unsortedArray.length;
        for (let i = 1; i < length; i++) {
            let key = unsortedArray[i];
            let j = i - 1;
            while (j >= 0 && unsortedArray[j] > key) {
                unsortedArray[j + 1] = unsortedArray[j];
                j = j - 1;
            }
            unsortedArray[j + 1] = key;
        }
        return unsortedArray;
    },
    bubbleSort: (unsortedArray) => {
        let len = unsortedArray.length;
        let swapped;
        do {
            swapped = false;
            for (let i = 0; i < len; i++) {
                if (unsortedArray[i] > unsortedArray[i + 1]) {
                    let tmp = unsortedArray[i];
                    unsortedArray[i] = unsortedArray[i + 1];
                    unsortedArray[i + 1] = tmp;
                    swapped = true;
                }
            }
        } while (swapped);
        return unsortedArray;
    }
}